<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <title>SystemML Release Process - SystemML 0.13.0</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        
        <meta name="description" content="Description of the SystemML release process and validation.">
        
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/pygments-default.css">
        <link rel="shortcut icon" href="img/favicon.png">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
        <![endif]-->

        <header class="navbar navbar-default navbar-fixed-top" id="topbar">
            <div class="container">
                <div class="navbar-header">
                    <div class="navbar-brand brand projectlogo">
                        <a href="http://systemml.apache.org/"><img class="logo" src="img/systemml-logo.png" alt="Apache SystemML (incubating)" title="Apache SystemML (incubating)"/></a>
                    </div>
                    <div class="navbar-brand brand projecttitle">
                        <a href="http://systemml.apache.org/">Apache SystemML<sup id="trademark">â„¢</sup> (incubating)</a><br/>
                        <span class="version">0.13.0</span>
                    </div>
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <nav class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="index.html">Overview</a></li>
                        <li><a href="https://github.com/apache/incubator-systemml">GitHub</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation<b class="caret"></b></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><b>Running SystemML:</b></li>
                                <li><a href="https://github.com/apache/incubator-systemml">SystemML GitHub README</a></li>
                                <li><a href="spark-mlcontext-programming-guide.html">Spark MLContext</a></li>
                                <li><a href="spark-batch-mode.html">Spark Batch Mode</a>
                                <li><a href="hadoop-batch-mode.html">Hadoop Batch Mode</a>
                                <li><a href="standalone-guide.html">Standalone Guide</a></li>
                                <li><a href="jmlc.html">Java Machine Learning Connector (JMLC)</a>
                                <li class="divider"></li>
                                <li><b>Language Guides:</b></li>
                                <li><a href="dml-language-reference.html">DML Language Reference</a></li>
                                <li><a href="beginners-guide-to-dml-and-pydml.html">Beginner's Guide to DML and PyDML</a></li>
                                <li><a href="beginners-guide-python.html">Beginner's Guide for Python Users</a></li>
                                <li><a href="python-reference.html">Reference Guide for Python Users</a></li>
                                <li class="divider"></li>
                                <li><b>ML Algorithms:</b></li>
                                <li><a href="algorithms-reference.html">Algorithms Reference</a></li>
                                <li class="divider"></li>
                                <li><b>Tools:</b></li>
                                <li><a href="debugger-guide.html">Debugger Guide</a></li>
                                <li><a href="developer-tools-systemml.html">IDE Guide</a></li>
                                <li class="divider"></li>
                                <li><b>Other:</b></li>
                                <li><a href="contributing-to-systemml.html">Contributing to SystemML</a></li>
                                <li><a href="engine-dev-guide.html">Engine Developer Guide</a></li>
                                <li><a href="troubleshooting-guide.html">Troubleshooting Guide</a></li>
                                <li><a href="release-process.html">Release Process</a></li>
                            </ul>
                        </li>
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">API Docs<b class="caret"></b></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="./api/java/index.html">Javadoc</a></li>
                            </ul>
                        </li>
                        
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Issues<b class="caret"></b></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><b>JIRA:</b></li>
                                <li><a href="https://issues.apache.org/jira/browse/SYSTEMML">SystemML JIRA</a></li>
                                
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </header>

        <div class="container" id="content">
          
            <h1 class="title">SystemML Release Process</h1>
          

          <!--

-->

<ul id="markdown-toc">
  <li><a href="#release-candidate-build-and-deployment" id="markdown-toc-release-candidate-build-and-deployment">Release Candidate Build and Deployment</a>    <ul>
      <li><a href="#release-documentation" id="markdown-toc-release-documentation">Release Documentation</a></li>
    </ul>
  </li>
  <li><a href="#release-candidate-checklist" id="markdown-toc-release-candidate-checklist">Release Candidate Checklist</a>    <ul>
      <li><a href="#all-artifacts-and-checksums-present" id="markdown-toc-all-artifacts-and-checksums-present">All Artifacts and Checksums Present</a></li>
      <li><a href="#release-candidate-build" id="markdown-toc-release-candidate-build">Release Candidate Build</a></li>
      <li><a href="#test-suite-passes" id="markdown-toc-test-suite-passes">Test Suite Passes</a></li>
      <li><a href="#all-binaries-execute" id="markdown-toc-all-binaries-execute">All Binaries Execute</a></li>
      <li><a href="#python-tests" id="markdown-toc-python-tests">Python Tests</a></li>
      <li><a href="#check-license-and-notice-files" id="markdown-toc-check-license-and-notice-files">Check LICENSE and NOTICE Files</a></li>
      <li><a href="#src-artifact-builds-and-tests-pass" id="markdown-toc-src-artifact-builds-and-tests-pass">Src Artifact Builds and Tests Pass</a></li>
      <li><a href="#single-node-standalone" id="markdown-toc-single-node-standalone">Single-Node Standalone</a></li>
      <li><a href="#single-node-spark" id="markdown-toc-single-node-spark">Single-Node Spark</a></li>
      <li><a href="#single-node-hadoop" id="markdown-toc-single-node-hadoop">Single-Node Hadoop</a></li>
      <li><a href="#notebooks" id="markdown-toc-notebooks">Notebooks</a></li>
      <li><a href="#performance-suite" id="markdown-toc-performance-suite">Performance Suite</a></li>
    </ul>
  </li>
  <li><a href="#voting" id="markdown-toc-voting">Voting</a></li>
  <li><a href="#release" id="markdown-toc-release">Release</a>    <ul>
      <li><a href="#release-deployment" id="markdown-toc-release-deployment">Release Deployment</a></li>
    </ul>
  </li>
</ul>

<h1 id="release-candidate-build-and-deployment">Release Candidate Build and Deployment</h1>

<p>To be written. (Describe how the release candidate is built, including checksums. Describe how
the release candidate is deployed to servers for review.)</p>

<h2 id="release-documentation">Release Documentation</h2>

<p>The <code class="highlighter-rouge">SYSTEMML_VERSION</code> value in docs/_config.yml should be updated to the correct release version. The documentation
site should be built.
The SystemML documentation site should be deployed to a docs version folder within the main website project (using
svn). As an example, the documentation site for SystemML version 0.11.0 should be available
at http://systemml.apache.org/docs/0.11.0.</p>

<p>The Javadocs should be generated for the project and should be deployed to a docs version folder, such as
http://systemml.apache.org/docs/0.11.0/api/java. Any other docs, such as Scaladocs if they are available, should
be deployed to corresponding locations. Note that the version number specified in the Javadocs is determined by the project
version number in the project pom.xml file.</p>

<p>Additionally, the Javadocs should be deployed to http://systemml.apache.org/docs/latest/api/java
if the Javadocs have not already been deployed to this location.</p>

<h1 id="release-candidate-checklist">Release Candidate Checklist</h1>

<h2 id="all-artifacts-and-checksums-present">All Artifacts and Checksums Present</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>Verify that each expected artifact is present at <a href="https://dist.apache.org/repos/dist/dev/incubator/systemml/">https://dist.apache.org/repos/dist/dev/incubator/systemml/</a> and that each artifact has accompanying
checksums (such as .asc and .md5).</p>

<h2 id="release-candidate-build">Release Candidate Build</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>The release candidate should build on Windows, OS X, and Linux. To do this cleanly,
the following procedure can be performed.</p>

<p>Clone the Apache SystemML GitHub repository
to an empty location. Next, check out the release tag. Following
this, build the distributions using Maven. This should be performed
with an empty local Maven repository.</p>

<p>Here is an example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ git clone https://github.com/apache/incubator-systemml.git
$ cd incubator-systemml
$ git tag -l
$ git checkout tags/0.11.0-incubating-rc1 -b 0.11.0-incubating-rc1
$ mvn -Dmaven.repo.local=$HOME/.m2/temp-repo clean package -P distribution
</code></pre>
</div>

<h2 id="test-suite-passes">Test Suite Passes</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>The entire test suite should pass on Windows, OS X, and Linux.
The test suite can be run using:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ mvn clean verify
</code></pre>
</div>

<h2 id="all-binaries-execute">All Binaries Execute</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>Validate that all of the binary artifacts can execute, including those artifacts packaged
in other artifacts (in the tgz and zip artifacts).</p>

<p>The build artifacts should be downloaded from <a href="https://dist.apache.org/repos/dist/dev/incubator/systemml/">https://dist.apache.org/repos/dist/dev/incubator/systemml/</a> and these artifacts should be tested, as in
this OS X example.</p>

<div class="highlighter-rouge"><pre class="highlight"><code># download artifacts
wget -r -nH -nd -np -R index.html* https://dist.apache.org/repos/dist/dev/incubator/systemml/0.11.0-incubating-rc1/

# verify standalone tgz works
tar -xvzf systemml-0.11.0-incubating-standalone.tgz
cd systemml-0.11.0-incubating-standalone
echo "print('hello world');" &gt; hello.dml
./runStandaloneSystemML.sh hello.dml
cd ..

# verify main jar works
mkdir lib
cp -R systemml-0.11.0-incubating-standalone/lib/* lib/
rm lib/systemml-0.11.0-incubating.jar
java -cp ./lib/*:systemml-0.11.0-incubating.jar org.apache.sysml.api.DMLScript -s "print('hello world');"

# verify src works
tar -xvzf systemml-0.11.0-incubating-src.tgz
cd systemml-0.11.0-incubating-src
mvn clean package -P distribution
cd target/
java -cp ./lib/*:systemml-0.11.0-incubating.jar org.apache.sysml.api.DMLScript -s "print('hello world');"
java -cp ./lib/*:SystemML.jar org.apache.sysml.api.DMLScript -s "print('hello world');"
cd ..
cd ..

# verify distrib tgz works
tar -xvzf systemml-0.11.0-incubating.tgz
cd systemml-0.11.0-incubating
java -cp ../lib/*:SystemML.jar org.apache.sysml.api.DMLScript -s "print('hello world');"

# verify spark batch mode
export SPARK_HOME=/Users/deroneriksson/spark-1.5.1-bin-hadoop2.6
$SPARK_HOME/bin/spark-submit SystemML.jar -s "print('hello world');" -exec hybrid_spark

# verify hadoop batch mode
hadoop jar SystemML.jar -s "print('hello world');"
</code></pre>
</div>

<p>Here is an example of doing a basic
sanity check on OS X after building the artifacts manually.</p>

<div class="highlighter-rouge"><pre class="highlight"><code># build distribution artifacts
mvn clean package -P distribution

cd target

# verify main jar works
java -cp ./lib/*:systemml-0.11.0-incubating.jar org.apache.sysml.api.DMLScript -s "print('hello world');"

# verify SystemML.jar works
java -cp ./lib/*:SystemML.jar org.apache.sysml.api.DMLScript -s "print('hello world');"

# verify src works
tar -xvzf systemml-0.11.0-incubating-src.tgz
cd systemml-0.11.0-incubating-src
mvn clean package -P distribution
cd target/
java -cp ./lib/*:systemml-0.11.0-incubating.jar org.apache.sysml.api.DMLScript -s "print('hello world');"
java -cp ./lib/*:SystemML.jar org.apache.sysml.api.DMLScript -s "print('hello world');"
cd ..
cd ..

# verify standalone tgz works
tar -xvzf systemml-0.11.0-incubating-standalone.tgz
cd systemml-0.11.0-incubating-standalone
echo "print('hello world');" &gt; hello.dml
./runStandaloneSystemML.sh hello.dml
cd ..

# verify distrib tgz works
tar -xvzf systemml-0.11.0-incubating.tgz
cd systemml-0.11.0-incubating
java -cp ../lib/*:SystemML.jar org.apache.sysml.api.DMLScript -s "print('hello world');"

# verify spark batch mode
export SPARK_HOME=/Users/deroneriksson/spark-1.5.1-bin-hadoop2.6
$SPARK_HOME/bin/spark-submit SystemML.jar -s "print('hello world');" -exec hybrid_spark

# verify hadoop batch mode
hadoop jar SystemML.jar -s "print('hello world');"
</code></pre>
</div>

<h2 id="python-tests">Python Tests</h2>

<p>For Spark 1.*, the Python tests at (<code class="highlighter-rouge">src/main/python/tests</code>) can be executed in the following manner:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>PYSPARK_PYTHON=python3 pyspark --driver-class-path SystemML.jar test_matrix_agg_fn.py
PYSPARK_PYTHON=python3 pyspark --driver-class-path SystemML.jar test_matrix_binary_op.py
PYSPARK_PYTHON=python3 pyspark --driver-class-path SystemML.jar test_mlcontext.py
PYSPARK_PYTHON=python3 pyspark --driver-class-path SystemML.jar test_mllearn_df.py
PYSPARK_PYTHON=python3 pyspark --driver-class-path SystemML.jar test_mllearn_numpy.py
</code></pre>
</div>

<p>For Spark 2.*, pyspark can&#8217;t be used to run the Python tests, so they can be executed using
spark-submit:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>spark-submit --driver-class-path SystemML.jar test_matrix_agg_fn.py
spark-submit --driver-class-path SystemML.jar test_matrix_binary_op.py
spark-submit --driver-class-path SystemML.jar test_mlcontext.py
spark-submit --driver-class-path SystemML.jar test_mllearn_df.py
spark-submit --driver-class-path SystemML.jar test_mllearn_numpy.py
</code></pre>
</div>

<h2 id="check-license-and-notice-files">Check LICENSE and NOTICE Files</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>Each artifact <em>must</em> contain LICENSE and NOTICE files. These files must reflect the
contents of the artifacts. If the project dependencies (ie, libraries) have changed
since the last release, the LICENSE and NOTICE files must be updated to reflect these
changes.</p>

<p>Each artifact <em>should</em> contain a DISCLAIMER file.</p>

<p>For more information, see:</p>

<ol>
  <li><a href="http://incubator.apache.org/guides/releasemanagement.html">http://incubator.apache.org/guides/releasemanagement.html</a></li>
  <li><a href="http://www.apache.org/dev/licensing-howto.html">http://www.apache.org/dev/licensing-howto.html</a></li>
</ol>

<h2 id="src-artifact-builds-and-tests-pass">Src Artifact Builds and Tests Pass</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>The project should be built using the <code class="highlighter-rouge">src</code> (tgz and zip) artifacts.
In addition, the test suite should be run using an <code class="highlighter-rouge">src</code> artifact and
the tests should pass.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>tar -xvzf systemml-0.11.0-incubating-src.tgz
cd systemml-0.11.0-incubating-src
mvn clean package -P distribution
mvn verify
</code></pre>
</div>

<h2 id="single-node-standalone">Single-Node Standalone</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>The standalone tgz and zip artifacts contain <code class="highlighter-rouge">runStandaloneSystemML.sh</code> and <code class="highlighter-rouge">runStandaloneSystemML.bat</code>
files. Verify that one or more algorithms can be run on a single node using these
standalone distributions.</p>

<p>Here is an example based on the <a href="http://apache.github.io/incubator-systemml/standalone-guide.html">Standalone Guide</a>
demonstrating the execution of an algorithm (on OS X).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ tar -xvzf systemml-0.11.0-incubating-standalone.tgz
$ cd systemml-0.11.0-incubating-standalone
$ wget -P data/ http://archive.ics.uci.edu/ml/machine-learning-databases/haberman/haberman.data
$ echo '{"rows": 306, "cols": 4, "format": "csv"}' &gt; data/haberman.data.mtd
$ echo '1,1,1,2' &gt; data/types.csv
$ echo '{"rows": 1, "cols": 4, "format": "csv"}' &gt; data/types.csv.mtd
$ ./runStandaloneSystemML.sh scripts/algorithms/Univar-Stats.dml -nvargs X=data/haberman.data TYPES=data/types.csv STATS=data/univarOut.mtx CONSOLE_OUTPUT=TRUE
</code></pre>
</div>

<h2 id="single-node-spark">Single-Node Spark</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>Verify that SystemML runs algorithms on Spark locally.</p>

<p>Here is an example of running the <code class="highlighter-rouge">Univar-Stats.dml</code> algorithm on random generated data.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ tar -xvzf systemml-0.11.0-incubating.tgz
$ cd systemml-0.11.0-incubating
$ export SPARK_HOME=/Users/deroneriksson/spark-1.5.1-bin-hadoop2.6
$ $SPARK_HOME/bin/spark-submit SystemML.jar -f scripts/datagen/genRandData4Univariate.dml -exec hybrid_spark -args 1000000 100 10 1 2 3 4 uni.mtx
$ echo '1' &gt; uni-types.csv
$ echo '{"rows": 1, "cols": 1, "format": "csv"}' &gt; uni-types.csv.mtd
$ $SPARK_HOME/bin/spark-submit SystemML.jar -f scripts/algorithms/Univar-Stats.dml -exec hybrid_spark -nvargs X=uni.mtx TYPES=uni-types.csv STATS=uni-stats.txt CONSOLE_OUTPUT=TRUE
</code></pre>
</div>

<h2 id="single-node-hadoop">Single-Node Hadoop</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>Verify that SystemML runs algorithms on Hadoop locally.</p>

<p>Based on the &#8220;Single-Node Spark&#8221; setup above, the <code class="highlighter-rouge">Univar-Stats.dml</code> algorithm could be run as follows:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$ hadoop jar SystemML.jar -f scripts/algorithms/Univar-Stats.dml -nvargs X=uni.mtx TYPES=uni-types.csv STATS=uni-stats.txt CONSOLE_OUTPUT=TRUE
</code></pre>
</div>

<h2 id="notebooks">Notebooks</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>Verify that SystemML can be executed from Jupyter and Zeppelin notebooks.
For examples, see the <a href="http://apache.github.io/incubator-systemml/spark-mlcontext-programming-guide.html">Spark MLContext Programming Guide</a>.</p>

<h2 id="performance-suite">Performance Suite</h2>

<p><a href="#release-candidate-checklist">Up to Checklist</a></p>

<p>Verify that the performance suite located at scripts/perftest/ executes on Spark and Hadoop. Testing should
include 80MB, 800MB, 8GB, and 80GB data sizes.</p>

<h1 id="voting">Voting</h1>

<p>Following a successful release candidate vote by SystemML PMC members on the SystemML mailing list, the release candidate
is voted on by Incubator PMC members on the general incubator mailing list. If this vote succeeds, the release candidate
has been approved.</p>

<h1 id="release">Release</h1>

<h2 id="release-deployment">Release Deployment</h2>

<p>To be written. (What steps need to be done? How is the release deployed to the central maven repo? What updates need to
happen to the main website, such as updating the Downloads page? Where do the release notes for the release go?)</p>



        </div> <!-- /container -->

        

        <script src="js/vendor/jquery-1.12.0.min.js"></script>
        <script src="js/vendor/bootstrap.min.js"></script>
        <script src="js/vendor/anchor.min.js"></script>
        <script src="js/main.js"></script>
        




        <!-- Analytics -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-71553733-1', 'auto');
            ga('send', 'pageview');
        </script>



        <!-- MathJax Section -->
        <script type="text/x-mathjax-config">
            MathJax.Hub.Config({
                TeX: { equationNumbers: { autoNumber: "AMS" } }
            });
        </script>
        <script>
            // Note that we load MathJax this way to work with local file (file://), HTTP and HTTPS.
            // We could use "//cdn.mathjax...", but that won't support "file://".
            (function(d, script) {
                script = d.createElement('script');
                script.type = 'text/javascript';
                script.async = true;
                script.onload = function(){
                    MathJax.Hub.Config({
                        tex2jax: {
                            inlineMath: [ ["$", "$"], ["\\\\(","\\\\)"] ],
                            displayMath: [ ["$$","$$"], ["\\[", "\\]"] ],
                            processEscapes: true,
                            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
                        }
                    });
                };
                script.src = ('https:' == document.location.protocol ? 'https://' : 'http://') +
                    'cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
                d.getElementsByTagName('head')[0].appendChild(script);
            }(document));
        </script>
    </body>
</html>
