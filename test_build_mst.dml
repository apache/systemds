source("scripts/builtin/hdbscan.dml") as hdb

#        4
#      / | \
#     /  |  \
#    /  (2)  (5)
#    |   |    \
#    |   |     \
#   (2)  1-(3)--3
#    |   |    /
#    \   |   (4)
#     \  (1) /
#      \ | /
#       \|/
#        2

distances = matrix(0, rows=4, cols=4)
distances[1,2] = 1 
distances[2,1] = 1

distances[1,3] = 3 
distances[3,1] = 3

distances[1,4] = 2  
distances[4,1] = 2

distances[2,3] = 4 
distances[3,2] = 4

distances[2,4] = 2
distances[4,2] = 2

distances[3,4] = 5 
distances[4,3] = 5

[edges, weights] = hdb::buildMST(distances, 4)

totalWeight = sum(weights)

test_pass = (nrow(edges) == 3) & (totalWeight == 6)

if(test_pass) {
    print("Passed")
} else {
    print("Failed")
}